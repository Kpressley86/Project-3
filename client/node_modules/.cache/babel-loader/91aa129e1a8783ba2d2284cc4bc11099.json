{"ast":null,"code":"import _objectWithoutProperties from \"c:\\\\Users\\\\basem\\\\Desktop\\\\Project-3\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"c:\\\\Users\\\\basem\\\\Desktop\\\\Project-3\\\\client\\\\src\\\\components\\\\privateRoute\\\\PrivateRoute.js\";\nimport React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport { useAuth0 } from \"../../react-auth0-spa\";\n\nconst PrivateRoute = (_ref) => {\n  let Component = _ref.component,\n      path = _ref.path,\n      location = _ref.location,\n      rest = _objectWithoutProperties(_ref, [\"component\", \"path\", \"location\"]);\n\n  const _useAuth = useAuth0(),\n        isAuthenticated = _useAuth.isAuthenticated,\n        loginWithRedirect = _useAuth.loginWithRedirect;\n\n  useEffect(() => {\n    const fn = async () => {\n      if (!isAuthenticated) {\n        await loginWithRedirect({\n          appState: {\n            targetUrl: location.pathname\n          }\n        });\n      }\n    };\n\n    fn();\n  }, [isAuthenticated, loginWithRedirect, path, location]);\n\n  const render = props => isAuthenticated === true ? React.createElement(Component, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  })) : null;\n\n  return React.createElement(Route, Object.assign({\n    path: path,\n    render: render\n  }, rest, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }));\n};\n\nPrivateRoute.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.func]).isRequired,\n  location: PropTypes.shape({\n    pathName: PropTypes.string.isRequired\n  }).isRequired,\n  path: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired\n};\nexport default withRouter(PrivateRoute);","map":{"version":3,"sources":["c:/Users/basem/Desktop/Project-3/client/src/components/privateRoute/PrivateRoute.js"],"names":["React","useEffect","PropTypes","Route","withRouter","useAuth0","PrivateRoute","Component","component","path","location","rest","isAuthenticated","loginWithRedirect","fn","appState","targetUrl","pathname","render","props","propTypes","oneOfType","element","func","isRequired","shape","pathName","string","arrayOf"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,kBAAlC;AACA,SAASC,QAAT,QAAyB,uBAAzB;;AAEA,MAAMC,YAAY,GAAG,UAAuD;AAAA,MAAzCC,SAAyC,QAApDC,SAAoD;AAAA,MAA9BC,IAA8B,QAA9BA,IAA8B;AAAA,MAAxBC,QAAwB,QAAxBA,QAAwB;AAAA,MAAXC,IAAW;;AAAA,mBAC3BN,QAAQ,EADmB;AAAA,QAClEO,eADkE,YAClEA,eADkE;AAAA,QACjDC,iBADiD,YACjDA,iBADiD;;AAG1EZ,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMa,EAAE,GAAG,YAAY;AACrB,UAAI,CAACF,eAAL,EAAsB;AACpB,cAAMC,iBAAiB,CAAC;AACtBE,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,SAAS,EAAEN,QAAQ,CAACO;AAAtB;AADY,SAAD,CAAvB;AAGD;AACF,KAND;;AAOAH,IAAAA,EAAE;AACH,GATQ,EASN,CAACF,eAAD,EAAkBC,iBAAlB,EAAqCJ,IAArC,EAA2CC,QAA3C,CATM,CAAT;;AAWA,QAAMQ,MAAM,GAAGC,KAAK,IAChBP,eAAe,KAAK,IAApB,GAA2B,oBAAC,SAAD,oBAAeO,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA3B,GAAsD,IAD1D;;AAGA,SAAO,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEV,IAAb;AAAmB,IAAA,MAAM,EAAES;AAA3B,KAAuCP,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD,CAlBD;;AAoBAL,YAAY,CAACc,SAAb,GAAyB;AACvBZ,EAAAA,SAAS,EAAEN,SAAS,CAACmB,SAAV,CAAoB,CAACnB,SAAS,CAACoB,OAAX,EAAoBpB,SAAS,CAACqB,IAA9B,CAApB,EACNC,UAFkB;AAGvBd,EAAAA,QAAQ,EAAER,SAAS,CAACuB,KAAV,CAAgB;AACxBC,IAAAA,QAAQ,EAAExB,SAAS,CAACyB,MAAV,CAAiBH;AADH,GAAhB,EAEPA,UALoB;AAMvBf,EAAAA,IAAI,EAAEP,SAAS,CAACmB,SAAV,CAAoB,CACxBnB,SAAS,CAACyB,MADc,EAExBzB,SAAS,CAAC0B,OAAV,CAAkB1B,SAAS,CAACyB,MAA5B,CAFwB,CAApB,EAGHH;AAToB,CAAzB;AAYA,eAAepB,UAAU,CAACE,YAAD,CAAzB","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport { useAuth0 } from \"../../react-auth0-spa\";\r\n\r\nconst PrivateRoute = ({ component: Component, path, location, ...rest }) => {\r\n  const { isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    const fn = async () => {\r\n      if (!isAuthenticated) {\r\n        await loginWithRedirect({\r\n          appState: { targetUrl: location.pathname }\r\n        });\r\n      }\r\n    };\r\n    fn();\r\n  }, [isAuthenticated, loginWithRedirect, path, location]);\r\n\r\n  const render = props =>\r\n      isAuthenticated === true ? <Component {...props} /> : null;\r\n\r\n  return <Route path={path} render={render} {...rest} />;\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.func])\r\n      .isRequired,\r\n  location: PropTypes.shape({\r\n    pathName: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  path: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.arrayOf(PropTypes.string)\r\n  ]).isRequired\r\n};\r\n\r\nexport default withRouter(PrivateRoute);"]},"metadata":{},"sourceType":"module"}